# 倉頡編碼修訂原則

## 疑難及爭議取碼

1. 「冎」（原編碼：月一中月、月弓月；現編碼：月月）

   根據[漢文庫典](http://hanculture.com/dic/v.php?dicword=%E5%86%8E)及沈紅蓮女士的[回信（二）](http://ejsoon.win/phpbb/viewtopic.php?f=3&t=793)，「冎」的上部是「月」的輔助字形，故「冎」取「月月」。

2. 「軣」（原編碼：十十戈一人；現編碼：十十金金）
  
   根據沈紅蓮女士的[回信（一）](http://ejsoon.win/phpbb/viewtopic.php?f=3&t=789)，「軣」取「十十金金」。

   其它包含相同部件的字一併修改：䏮塁摂渋疂𮐪𮓼𮛎。

3. 「参」（原編碼：戈大竹竹竹；現編碼：戈大竹竹竹）

   有觀點認為「参」應視為連體字取「戈大竹竹」或上中下三分取「戈.大.竹竹」。

   官方碼表中，「参」字均取碼「戈大竹竹竹」（包括《標準倉頡第二代中文輸入法》（二代）、《第五代倉頡輸入法手冊》之附表（五代）、漢文庫典、蒼頡檢字法（六代））。目前流行的倉頡輸入法，「参」亦字多取「戈大竹竹竹」。故本專案從官方編碼取「戈大竹竹竹」。

   相關字：叁参奙貵軬𫊲。

4. 「韲」上方部件取碼

   《第五代倉頡輸入法手冊》將「齊」列作難字，取「卜難」，附表將「𪗇」類字的「齊」視作字首，如「𪗇」取碼「卜難月」。

   漢文庫典中，「韲」字取「卜難.中尸一」，將「韲」的上部（⿱亠⿲刀丫③）視作字首，取碼「卜難」。

   本專案從官方取碼，將「齊」和「韲」的上部（⿱亠⿲刀丫③）視為難字，均取碼「卜難」。

5. 「鹿」上方部件取碼

   《第五代倉頡輸入法手冊》將「鹿」、「廌」、「慶」字分別列為難字並取碼「戈難心」、「戈難火」、「戈難水」，此外並未收錄其他包含「鹿」字上方部件（⿸广④）的字。

   然而，官方的漢文庫典將「𢉖」字取碼作「戈難戈戈」，似乎認可將「⿸广④」部件拆作「戈難」；但按此原則「鹿」、「廌」、「慶」須改取碼作「戈難心心」、「戈難卜尸火」、「戈難弓心水」。

   關於難字是否可類推的問題，沈紅蓮女士在[回信（二）](http://ejsoon.win/phpbb/viewtopic.php?f=3&t=793)中提及：「可以加難字，但希望大家有共識，也要考慮重碼問題」。

   考慮官方意見及重碼問題，本專案將「鹿」字上方部件（ ⿸广④）視為難字，取碼「戈難」。「鹿」、「廌」、「慶」三字則視為例外，保持原編碼不變。

6. 「𫠣」（「拣」右側）的取碼（原編碼：大女尸金、大女弓木，現編碼：大女尸金）

   有觀點認為「手大女金」、「手女弓木」的「女」多餘，不符合《第五代倉頡輸入法手冊》所述之「精簡原則」，亦與「东」字取碼不保留「女」相悖，故「𫠣」應取「大弓木」。

   《第五代倉頡輸入法手冊》未收「拣」字。「拣」字在「漢文庫典」中取碼「手大女金」，蒼頡檢字法（六代）取碼「手大女木」。

   本專案從「漢文庫典」將「𫠣」字取碼「大女尸金」，容錯「大女弓木」。

   相關討論見 [Issue #17](https://github.com/Jackchows/Cangjie5/issues/17)。

7. 「𫥮」右側部件的取碼

   有觀點認為，「𫥮」右側部件是整體字，應從高到低依次取「月」（冂）、「金」（丷）和尾碼「金」（八）。反對觀點認為，「丷」跨越「冂」的兩側，不能組合成「丷」，否則違反「完整原則」。「從高到低」的規則應在不破壞「完整原則」的情況下使用，而非必須遵循。

   有觀點認為，參考「楽」、「𠔜」，此部件中，「一」上方的部份（⿲冫同𡿨）應從左到右取，故應取「戈」（丶）、「一」（㇀）、「人」（𡿨）。反對觀點認為，「楽」、「𠔜」不能證明「一」上方的部份（⿲冫同𡿨）應從左到右取，《第五代輸入法手冊》中亦不見此敘述。

   本專案「𫥮」字身取「月金金」，並設兼容碼「月戈金」。

   相關討論見 [Issue #17](https://github.com/Jackchows/Cangjie5/issues/17)。

   相關字：𫯆𬲈

8. 簡化字「执」、「纨」右側「丸」取碼

   按字形，簡化字「执」末碼不能取「戈」，當取「大」。

   《第五代倉頡輸入法手冊》未收簡化字，「漢文庫典」取「大弓大」。

   本專案取「大弓大」，容錯「大弓戈」。

9. 「靑」取碼

   《第五代輸入法手冊》未收此字。朱邦復工作室《內碼對照表》中該字的 1987 版五代取碼為「手一月」，「漢文庫典」取碼「手一月」（即將「円」設為「月」的輔助字形）。

   本專案取「手一月」，容錯「手一月中一」。

### 五代

1. 「春舂秦冬各备夅夆帝登」作字首（次字首）的取碼

   官方碼表將「春舂秦冬各备夅夆帝登」視為「複合字首」，即這些部件作為字首或次字首時視為一個單位取碼，例如「蠢」取「手日.中戈.戈」而非「手大.日.中戈」，「凳」取「弓廿.竹弓」而非「弓人.一.口弓」。唯「䆐」字例外取「手大.竹木.木」。

   有觀點認為此作法不符合倉頡的一貫取碼原則，「蠢」應取「手大.日.中戈」，「凳」應取「弓人.一.口弓」，否則與「盆」（金.尸竹.廿）、「奮」（大.人土.田）等字取碼矛盾。

   有觀點認為此取法與其他含「𡗗夂癶」的字取碼規則不統一，因「癹」官方取碼「弓人.竹弓.水」而非「弓弓.水」，「𠒏」取「手大.一.一山」而非「手一.一山」（等等）。

   本專案兼容兩種取碼。

2. 「𣎆」、「𦝠」、「𦟀」取碼

   《第五代輸入法手冊》將「𣎆」列為複合字，按規則，獨立的「𣎆」當取「卜弓」。但《第五代輸入法手冊》附錄碼表未收「𣎆」字。「漢文庫典」中，「𣎆」取碼「卜女口月弓」。

   本專案兼容兩種取碼。「𦝠」、「𦟀」同理。

3. 「斉」取碼

   《第五代輸入法手冊》未收此字，「漢文庫典」取碼「卜大中」（其意不明，或有誤）。含相同形狀的[「𠂁」](http://hanculture.com/dic/v.php?id=52553)字在「漢文庫典」中取碼「尸中戈」

   有觀點認為「斉」下方的「丿二」，首筆為撇，與「尸」的輔助字形「ㅑ」（首筆為竪）不同，故不能取「尸」，故「斉」宜取「卜大中中一」或「卜大卜人中」。

   有觀點認為，《第五代輸入法手冊》（第43頁）提及：「爲字形均衡而向左撇的“縱”筆畫」取「丨（縱）」，「丿二」的首筆似屬此情況。故「丿二」首筆可視作竪，取「尸」。

   本專案取「卜大尸中」。

## 字形兼容取碼

處理原則：
1. 兼容字形的取樣，以 Unicode 所收者為主（主要根據 [Unicode Code Charts](http://unicode.org/charts/) 及 [Ideographic Variation Database](http://unicode.org/ivd/) 的定義）。Unicode 未收者則參考官方及原倉頡平台編碼表所兼容者作有限度兼容。
2. 若甲字有設字形兼容，乙字有丙部件形如甲字，則為乙字設相應的字形兼容。但丙部件若按字源分析與甲字無關，且乙字於兼容字形取樣範圍中未見丙部件採用甲字相關之異體，則不為乙字設甲字相關的字形兼容。
3. 簡化字按中國標準字形取碼，不設字形兼容。
4. 不同字形在 Unicode 中分開編碼者，不設字形兼容。

|部件|取碼|備註|
|-|-|-|
|勺|心戈／心一||
|丸|大弓戈／大弓大||
|戶／户／戸|竹尸／戈尸／一尸|「一尸」僅部份兼容。例外：戶户戸|
|反|竹水／一水||
|壬／𡈼|一土／竹土||
|舌|一十口／竹十口||
|舍／舎|人一十口／人竹十口／人土口|「人竹十口」僅限：舍；「人土口」僅限：捨。|
|吞|竹大口／一大口|例外：吞呑、喬䀉𫡡|
|礻／⺬|戈弓火／一一火||
|片|中中一中／中中一弓||
|匀／勻|心戈一／心一一|例外：匀勻|
|沒（右半）|弓水／竹尸水|僅限：沒歿𤣻𩑦|
|令|人戈弓戈／人一尸中||
|次|戈一弓人／一一弓人||
|⺶|廿手／廿土竹||
|直|十月一一／十月山女|例外：值値、惪悳|
|真／眞|十月山金／心月山金|例外：真眞、填塡、巔巓、慎愼、槙槇、鎮鎭、顛顚、鷏鷆、𥛺|
|吳／吴／呉|口女弓大／口一大／口女弓金|「口女弓金」僅部份兼容。例外：吳吴呉、俁俣、娛娱娯、悞悮、𦨼𦨳|
|即|日戈尸中／竹心尸中／竹尸尸中（五代）／竹卜尸中（三代）|例外：即卽、唧喞|
|既|日戈一女山／竹心一女山／竹尸一女山（五代）／竹卜一女山（三代）／日戈一中山／竹心一中山／竹尸一中山（五代）／竹卜一中山（三代）|例外：既旣、塈墍、暨曁、概槪、溉漑|
|雨|一中月卜／一水月||
|爭／争|月尸木／弓尸木|例外：爭争、凈净、崢峥、掙挣、淨浄、猙狰、睜睁、箏筝、靜静|
|周|月土口／月手口||
|延|弓大竹卜一／弓大竹卜女||
|臿|竹十竹難／一十竹難||
|俞／兪|人一月弓／人一月女|例外：俞兪、偷偸、喻喩、媮婾、榆楡|
|酋|廿金田一／金一金田||
|益|廿金月廿／金一金廿||
|兼|廿難金／竹竹廿金／金一難金|「金一難金」僅部分兼容|
|為／爲|戈大弓火／月竹弓火|例外：為爲𤔡、偽僞、溈潙、蒍蔿、爳|
|敖|土尸人大／手尸人大||
|麥|木人弓戈／十人弓戈／木人竹水／十人竹水|在左作字首：十水／木水，如「麵」：十水一田中／木水一田中|
|幾|女戈竹戈／女戈大||
|黃／黄|廿一中金／廿中田金|例外：黃黄、橫横|
|善|廿廿口／廿土廿口||
|鼎|月山女一中／月山女一弓||
|凡／卂|竹弓戈／弓大|按字源從「丮」|
|卂|弓十／弓大（作偏旁時）|按字源從「卂」|
|衆|竹廿竹竹人／竹廿人竹人||
|聚|尸水人人人／尸水人竹人／尸水竹竹人／尸水心竹人||
|養|廿人戈日女／廿人一日女／廿金戈日女／廿金一日女|例外：𣝡𣞼|
|憲|十手一心／十手十心||
|刃／刄|尸竹戈／尸竹竹／尸大|例外：刃刄|
|灰|大火／一火|未必全|
|巽|口山廿金／口女廿金||
|并|廿廿／卜十卜十|未必全|
|並|廿廿金／廿廿一||
|食（字首）|人戈／人尸（五代）／人卜（三代）|未必全|
|查|木日一／木月一|未必全|
|州|竹中戈中／戈中戈中／一中一中||
|开|一廿／一十一十／一大一十||
|𤰇|廿竹月手／廿一月手||
|每|人田卜／人田十||
|毋|田十／田十竹||
|旡／兂|一女大山／大女山|例外：旡兂|
|㐬|卜戈竹中山／卜戈竹中女||
|冬|竹水卜／竹水戈一||
|良（字首）|戈戈／戈女|「戈女」僅部分兼容|
|电|中田山／中田女|「中田女」僅部分兼容|
|蔑|廿田戈／廿田一|「廿田一」僅部分兼容|
|覃|一田日十／一月日十|「一月日十」僅部分兼容|
|負|弓月山金／尸竹月山金|「尸竹月山金」僅部分兼容|
|兔|弓山戈（三代）／弓日山戈（五代）／尸竹日山戈||
|免|弓日竹山／尸竹日竹山||
|色|弓日山／尸竹日山|「尸竹日山」僅部分兼容|
|鼻|竹山田一中／竹山田廿|「竹山田廿」僅部分兼容|
|漢（右半）|廿中人／廿日人|「廿日人」僅部分兼容|
|堇|廿中手一／廿日手一|「廿日手一」僅部分兼容|
|戋|戈十／戈手|「戈手」僅部分兼容|
|包|心口山／心尸山||
|臽|弓竹難／尸竹難／竹尸難||
|㒸|廿心人／金一人|「金一人」僅部分兼容|
|弱|弓一弓戈一／弓竹弓竹竹||
|䪞|一大中一一／竹大中一一||
|䨿|一大中一卜／竹大中一卜||
|感|戈口心／戈竹一口心||

### 三代
|部件|取碼|備註|
|-|-|-|
|𣎆／𦝠（內含字形時）|卜口月＊弓／卜口月＊大|不與「𦟀」類字互相兼容。例外：𣎆、𦝠|
|犀|尸卜卜手／尸水竹手|類字：屬|
|函|弓山水／一山弓水|「凾」（弓山口水）不設兼容碼|

### 五代

|部件|取碼|備註|
|-|-|-|
|𣎆／𦝠|卜弓／卜大|不與「𦟀」類字互相兼容|
|函|山弓水／一山弓水|「凾」（山弓口水）不設兼容碼|

## 取碼字形差異

|Unicode|漢字|UCS 字形|其他字集標準字形|說明|
|-|-|-|-|-|
|U+446E|䑮|從「朶」|GB 18030-2000/2005：從「朵」|本專案依 UCS 字形|
|U+44B3|䒳|從「朶」|GB 18030-2000/2005：從「朵」|本專案依 UCS 字形|
|U+4548|䕈|從「片」|GB 18030-2000/2005：從「爿」|本專案依 UCS 字形|
|U+454E|䕎|從「日」|GB 18030-2000/2005：從「目」|本專案依 UCS 字形|
|U+4949|䥉|從「宀」|GB 18030-2000：從「宀」，GB 18030-2005：從「冖」|本專案依 UCS 字形|
|U+6A69|橩|從「几」|GB 18030-2000：從「卂」，GB 18030-2005：從「几」|本專案依 UCS 字形|
|U+81A5|膥|G源從「末」，H源從「未」|GB 18030-2000/2005：從「末」|本專案兼容兩種字形|
|U+20624|𠘤|⿱凝氷|CNS 11643 明體、楷體：⿰冫⿱疑氷，CNS 11643 宋體：⿱凝氷|本專案依 UCS 字形|
|U+23EE4|𣻤|G源右從「木」，T源右從「水」|CNS 11643：右從「水」|本專案依 UCS G源字形。U+23E73「𣹳」右從「水」|
|U+27664|𧙤|從「朶」|GB 18030-2005：從「朵」|本專案依 UCS 字形。U+2C856「𬡖」從「朵」|
|U+2AF5C|𪽜|從「段」|CNS 11643：從「叚」|本專案依 UCS 字形|
|U+2E6BB|𮚻|右從「免」|K源待查。疑有字集右從「兔」|本專案依 UCS 字形|
|U+2E87A|𮡺|右從「兎」|K源待查。疑有字集右從「兔」|本專案依 UCS 字形|

## 重碼字排序調整

一般原則：
1. Unicode 中日韓統一表意文字區的字先於擴展區的字。
2. 統一區：傳承字先於簡化字及日本新字體。
3. 統一區：按字頻排序（無法取得字頻者視為字頻最低）。
4. 統一區：若某字有其他更主要的字形兼容取碼，則視情況將其順位後移。
5. 統一區：按完整倉頡碼排序（假定無五碼上限）。
6. 按 Unicode 編碼排序。

|編碼|原排序|現排序|
|-|-|-|
|bt|皿冊|冊皿|
|btis|臓臟|臟臓|
|dpi|杓构|构杓|
|ebhu|观沉|沉观|
|ebug|灈濉|濉灈|
|edlo|濑漱|漱濑|
|ee|汉双|双汉|
|ehbt|洫盪|盪洫|
|eitc|瀇濂|濂瀇|
|elmo|洮溃|溃洮|
|esmg|濯洭渥|渥濯洭|
|fbok|敝敞|敞敝|
|fduce|糭糉|糉糭|
|foir|熗焓|焓熗|
|gkq|摮摯|摯摮|
|hkp|忝懲|懲忝|
|hjsmm|翺翱|翱翺|
|ib|禸宀|宀禸|
|juln|剜剋|剋剜|
|kbnl|郗郁|郁郗|
|kdln|剎刹|刹剎|
|lnhe|衱版|版衱|
|mbpym|鹂鹝鸸|鹂鸸鹝|
|nem|亟丞|丞亟|
|mfbuu|覔覝視|視覔覝|
|mkp|忝憨懕恐|憨忝恐懕|
|mre|砅泵|泵砅|
|mrnl|郚酃|酃郚|
|no|欠久|久欠|
|nvlmi|蜑蚀|蚀蜑|
|oihp|飥侂|侂飥|
|ol|个仲|仲个|
|olok|攸倏|倏攸|
|opyiu|锍铳|铳锍|
|ormbc|頜頷|頷頜|
|punl|鄒邨|邨鄒|
|qhsk|撽捩|捩撽|
|qklmi|螯蛰|蛰螯|
|rhsk|噭唳|唳噭|
|rmmr|跖唔|唔跖|
|rsmg|喔嚁哐|喔哐嚁|
|tbhu|苋藐|藐苋|
|tbli|萤繭|繭萤|
|tjmn|靪苧|苧靪|
|tjmu|靰莞|莞靰|
|tvii|兹茲|茲兹|
|tmwf|蔈蘸|蘸蔈|
|tog|萑茌|茌萑|
|tw|苗曲|曲苗|
|tyrv|蘘藹|藹蘘|
|vis|妒幻|幻妒|
|vmbb|嬬绷|绷嬬|
|vmi|纩戕|戕纩|
|ybr|啻迥|迥啻|
|yrbn|亮亭|亭亮|

## 參考資料

本專案修訂倉頡編碼時，主要參考以下資料：

1. 《[第五代倉頡輸入法手冊](http://www.cbflabs.com/book/5cjbook/index.htm)》

   《第五代倉頡輸入法手冊》有兩個版本，分別由文化傳信和博碩文化出版，兩個版本僅在字例上有細微差異。

   手冊闡述了發明人對倉頡輸入法（檢字法）的基本理念和原則，但細節有時不夠詳盡；相對的，官方編寫編碼表時考慮往往更為周全，但偶爾也有編碼錯誤（或印刷錯誤）的情況。

   手冊及附表的倉頡編碼為 1999 年版倉頡五代。

2. [漢文庫典](http://hanculture.com/dic/index.php)網站

   漢文庫典對大字庫的考慮比第五代手冊和附表周全，其編碼可相當確定為官方編碼。但偶有內容受蒼頡檢字法（俗稱六代倉頡）影響而出錯。

   漢文庫典的倉頡編碼為 2003 年版倉頡五代。

   漢文庫典所列漢字圖片之檔名為蒼頡檢字法（俗稱六代倉頡）。

3. 《第二代倉頡輸入法手冊》、《第三代倉頡輸入法手冊》、朱邦復工作室提供的蒼頡檢字法編碼表。

   這些資料都一定程度地反映了發明人的思想及倉頡輸入法（檢字法）的理念和原則。

4. [中文全字庫](https://www.cns11643.gov.tw/searchQ.jsp?ID=1)

   中文全字庫反映了中華民國的「中文標準交換碼」(CNS11643)，且大幅利用倉頡檢字法做漢字檢索。

   中文全字庫原則上使用三代倉頡檢字法，但因資料建置較早，有一些漢字混用了二代倉頡的編碼。

5. [Unihan 資料庫](https://unicode.org/charts/unihan.html)

   Unihan 資料庫由 Unicode 聯盟維護，其所收漢字字形與 Unicode 漢字標準直接相關，其所錄倉頡編碼也因此在國際上有重要地位。

   Unihan 資料庫原則上採用三代倉頡，但仍有編碼錯誤或取碼字形差異造成的問題。

6. 倉頡輸入法資深使用者的討論
   * 「[倉頡之友·馬來西亞](http://www.chinesecj.com/forum/forum.php)」論壇
   * 「[天蒼人頡](http://ejsoon.win/phpbb/)」論壇
